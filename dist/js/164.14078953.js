"use strict";(self["webpackChunkmevn_project_frontend"]=self["webpackChunkmevn_project_frontend"]||[]).push([[164],{4164:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("b-alert",{attrs:{show:t.dismissCountdown,dismissible:"",variant:t.message.color},on:{dismissed:function(e){t.dismissCountdown=0},"dismiss-count-down":t.countdownChanged}},[t._v(" "+t._s(t.message.text)+" ")]),e("h3",{staticClass:"my-3"},[t._v(" Notas ")]),t.isEditing?t._e():e("form",{on:{submit:function(e){return e.preventDefault(),t.addNote()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.note.name,expression:"note.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingresá el nombre"},domProps:{value:t.note.name},on:{input:function(e){e.target.composing||t.$set(t.note,"name",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.note.description,expression:"note.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingresá la descripción"},domProps:{value:t.note.description},on:{input:function(e){e.target.composing||t.$set(t.note,"description",e.target.value)}}}),e("b-button",{staticClass:"btn-success my-2",attrs:{type:"submit"}},[t._v("Add")])],1),t.isEditing?e("form",{on:{submit:function(e){return e.preventDefault(),t.editNote(t.selectedNote)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedNote.name,expression:"selectedNote.name"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingresá el nombre"},domProps:{value:t.selectedNote.name},on:{input:function(e){e.target.composing||t.$set(t.selectedNote,"name",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedNote.description,expression:"selectedNote.description"}],staticClass:"form-control my-2",attrs:{type:"text",placeholder:"Ingresá la descripción"},domProps:{value:t.selectedNote.description},on:{input:function(e){e.target.composing||t.$set(t.selectedNote,"description",e.target.value)}}}),e("b-button",{staticClass:"btn-warning my-2 mx-2",attrs:{type:"submit"}},[t._v("Edit")]),e("b-button",{staticClass:"my-2 btn-dark",attrs:{type:"submit"},on:{click:function(e){t.isEditing=!1}}},[t._v("Cancel")])],1):t._e(),e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.notes,(function(s,o){return e("tr",{key:o},[e("th",{attrs:{scope:"row"}},[t._v(t._s(s._id))]),e("td",[t._v(t._s(s.name))]),e("td",[t._v(t._s(s.description))]),e("td",[e("b-button",{staticClass:"btn-sm btn-danger mx-2",on:{click:function(e){return t.deleteNote(s._id)}}},[t._v("Delete")]),e("b-button",{staticClass:"btn-sm btn-warning",on:{click:function(e){return t.changeForm(s._id)}}},[t._v("Edit")])],1)])})),0)])],1)},n=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Name")]),e("th",{attrs:{scope:"col"}},[t._v("Description")]),e("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],i=s(629),a={data(){return{notes:[],dismissSecs:5,dismissCountdown:0,message:{text:"",color:""},note:{name:"",description:""},selectedNote:{},isEditing:!1}},created(){this.getNotes()},methods:{alert(){this.message.color="success",this.message.text="Éxito",this.showAlert()},countdownChanged(t){this.dismissCountdown=t},showAlert(){this.dismissCountdown=this.dismissSecs},getNotes(){let t={headers:{Authorization:this.token}};this.axios.get("/nota",t).then((t=>{this.notes=t.data})).catch((t=>{console.log(t.response)}))},addNote(){let t={headers:{Authorization:this.token}};this.axios.post("/new-note",this.note,t).then((t=>{this.notes.push(t.data),this.note.name="",this.note.description="",this.message.color="success",this.message.text="Nota agregada correctamente",this.showAlert()})).catch((t=>{this.message.color="danger",t.response.data.error.errors.name.message?this.message.text=t.response.data.error.errors.name.message:this.message.text="No se ingresó la Nota",this.showAlert(),console.log(t.response)}))},deleteNote(t){this.axios.delete(`/nota/${t}`,t).then((t=>{const e=this.notes.findIndex((e=>e._id===t.data._id));this.notes.splice(e,1),this.message.color="success",this.message.text="Nota eliminada correctamente",this.showAlert()})).catch((t=>{}))},editNote(t){this.axios.put(`/nota/${t._id}`,t).then((t=>{const e=this.notes.findIndex((e=>e._id===t.data._id));this.notes[e].name=t.data.name,this.notes[e].description=t.data.description,this.message.color="success",this.message.text="Nota actualizada correctamente",this.showAlert(),this.isEditing=!1})).catch((t=>{console.log(t.response)}))},changeForm(t){this.isEditing=!0,this.axios.get(`/nota/${t}`).then((t=>{this.selectedNote=t.data})).catch((t=>{console.log(t.response)}))}},computed:{...(0,i.rn)(["token"])}},r=a,c=s(1001),d=(0,c.Z)(r,o,n,!1,null,null,null),l=d.exports}}]);
//# sourceMappingURL=164.14078953.js.map