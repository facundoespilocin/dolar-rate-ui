"use strict";(self["webpackChunkmevn_project_frontend"]=self["webpackChunkmevn_project_frontend"]||[]).push([[299],{8299:function(t,s,e){e.r(s),e.d(s,{default:function(){return y}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container"},[s("Navbar",{attrs:{orderItems:t.orderItems}}),s("h1",{staticClass:"my-2"},[t._v("Detalle de Producto")]),s("div",{staticClass:"border-shadow p-4"},[s("b-overlay",{attrs:{show:t.showOverlay,rounded:"sm"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-2 p-2"},t._l(t.product.imagesUrl,(function(t){return s("img",{key:t.index,staticClass:"img-container m-1 home-product-card",attrs:{src:t}})})),0),s("div",{staticClass:"col-sm-5 p-2 image-zoom",on:{mousemove:t.handleMouseMove}},[s("img",{ref:"zoomImage",staticClass:"img-container",attrs:{src:t.product.mainImageUrl,width:"100%"}})]),s("div",{staticClass:"col-sm-5 p-2"},[s("div",{staticClass:"row"},[s("div",{},[s("h3",[t._v(" "+t._s(t.product.name)+" ")])])]),s("div",{staticClass:"row"},[s("div",{},[s("h3",[s("strong",[t._v("$"+t._s(t.product.price))])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-11 border-shadow p-2 mb-2 margin-left"},[s("h5",{staticClass:"mb-0"},[t._v(" 3 cuotas sin interés de "),s("strong",[t._v("$"+t._s(t.product.priceInInstallments))])])])]),s("div",{staticClass:"row"},t._l(t.paymentMethods,(function(t){return s("div",{key:t.name,staticClass:"col-sm-1 p-0 margin-left"},[s("img",{staticClass:"img-container",attrs:{width:"65%",src:t.url}})])})),0),s("div",{staticClass:"row"},[s("div",{},[s("h5",[s("strong",[t._v("10% de Descuento")]),t._v(" pagando por transferencia o depósito bancario ")])])]),s("div",{staticClass:"row"},[s("div",{},[s("span",{staticClass:"text-color-primary pointer",on:{click:function(s){return t.showPaymentMethods()}}},[t._v(" Ver medios de pago ")])])]),s("hr"),t.product.hasSizes?s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"mb-1"},[t._v(" Talle: "+t._s(t.sizeSelected)+" ")])]),s("div",{staticClass:"row mb-2"},t._l(t.product.sizes,(function(e){return s("div",{key:e.id,staticClass:"col-sm-1 p-1 margin-left pointer",class:[t.sizeSelected==e?"border-primary":"border-shadow"],on:{click:function(s){return t.selectSize(e)}}},[s("p",{staticClass:"p-0 m-0 text-center"},[t._v(t._s(e))])])})),0)]):t._e(),s("div",{staticClass:"col-sm-3 mb-2"},[s("label",{staticClass:"control-label",attrs:{id:"quantity"}},[t._v("Cantidad")]),s("b-form-spinbutton",{attrs:{"no-controls-input":"",min:1,max:t.product.maxQuantity},model:{value:t.product.quantity,callback:function(s){t.$set(t.product,"quantity",s)},expression:"product.quantity"}})],1),s("div",{staticClass:"row mb-2"},[s("b-overlay",{attrs:{show:t.showButtonOverlay,rounded:"sm"}},[s("div",{staticClass:"col-sm-12"},[t.isSuccess?t._e():s("b-button",{staticClass:"col-sm-12",attrs:{variant:"primary",type:"submit"},on:{click:function(s){return t.addToCart()}}},[s("b-icon-cart-plus"),t._v(" Agregar al carrito ")],1),t.isSuccess?s("b-button",{staticClass:"col-sm-12",attrs:{variant:"success"}},[t._v(" Producto agregado con éxito ")]):t._e()],1)])],1),s("p",[t._v(" El tiempo de entrega varía de acuerdo a la región. La demora habitual es de 2 a 6 dias habiles, aproximadamente. ")])])]),s("div",{staticClass:"row mb-2"},[s("div",{staticClass:"col-sm-7 text-center"},[t._v(" "+t._s(t.product.description)+" ")]),s("div",{staticClass:"col-sm-5"},[s("p",{staticClass:"text-center p-0 m-0"},[t._v(" Opciones rapidas de envio ")]),s("div",{staticClass:"row mb-1"},[s("div",{staticClass:"col-sm-1"},[s("img",{staticClass:"img-container",attrs:{src:"https://cdn-icons-png.flaticon.com/512/411/411763.png"}})]),s("div",{staticClass:"col-sm-11 p-0"},[t._v(" Envío a domicilio ")])]),s("div",{staticClass:"border-shadow p-1 mb-2"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-9 m-0"},[s("div",{staticClass:"radio-group"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deliveryTypeSelected,expression:"deliveryTypeSelected"}],staticClass:"margin-left",attrs:{type:"radio",value:"1"},domProps:{checked:t._q(t.deliveryTypeSelected,"1")},on:{change:function(s){t.deliveryTypeSelected="1"}}}),t._v(" Correo Argentino ")])])]),s("div",{staticClass:"col-sm-3 m-0 pull-right"},[s("span",{staticClass:"block"},[t._v("Gratis")]),s("p",{staticClass:"line-through m-0 p-0"},[t._v(t._s(t.product.shippingCost))])])])]),s("div",{staticClass:"row mb-1"},[s("div",{staticClass:"col-sm-1 mb-1"},[s("img",{staticClass:"img-container",attrs:{src:"https://cdn-icons-png.flaticon.com/512/0/619.png"}})]),s("div",{staticClass:"col-sm-11 p-0"},[t._v(" Retirar ")])]),s("div",{staticClass:"border-shadow p-1"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-9 m-0"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deliveryTypeSelected,expression:"deliveryTypeSelected"}],staticClass:"margin-left",attrs:{type:"radio",value:"2"},domProps:{checked:t._q(t.deliveryTypeSelected,"2")},on:{change:function(s){t.deliveryTypeSelected="2"}}}),t._v(" Correo Argentino - Retiro por sucursal ")])]),s("div",{staticClass:"col-sm-3 m-0 pull-right"},[s("span",{staticClass:"block"},[t._v("Gratis")]),s("p",{staticClass:"line-through m-0 p-0"},[t._v(t._s(t.product.withdrawalCost))])])])])])]),s("ProductDetailsFooter",{attrs:{product:t.product}})],1)],1)],1)},i=[],o=e(629),r=e(1230),c=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"row mb-3"},[s("h5",{staticClass:"text-center"},[t._v(" Productos relacionados ")]),t._l(t.product.imagesUrl,(function(t){return s("div",{key:t.index,staticClass:"col-sm-3 m-0 home-product-card"},[s("img",{staticClass:"img-container",attrs:{src:t}})])})),t._l(t.product.imagesUrl,(function(t){return s("div",{key:t.index,staticClass:"col-sm-3 m-0 home-product-card"},[s("img",{staticClass:"img-container",attrs:{src:t}})])}))],2),t._m(0)])},l=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-1"},[s("img",{staticClass:"img-container",attrs:{src:"https://cdn-icons-png.flaticon.com/512/411/411763.png"}})]),s("div",{staticClass:"col-sm-3 m-0"},[s("div",{staticClass:"text-center"},[s("span",{staticClass:"block"},[t._v("Envios a todo el pais.")]),s("p",{staticClass:"block"},[t._v("Entregas seguras con seguimiento")])])]),s("div",{staticClass:"col-sm-1 m-0 vertical-line"},[s("img",{staticClass:"img-container",attrs:{src:"https://cdn-icons-png.flaticon.com/512/5280/5280226.png"}})]),s("div",{staticClass:"col-sm-3 m-0"},[s("div",{staticClass:"text-center"},[s("span",{staticClass:"block"},[t._v("Todos los medios de pago")]),s("p",{staticClass:"block"},[t._v("Efectivo (en puntos de pago), Tarjetas de Crédito y Débito")])])]),s("div",{staticClass:"col-sm-1 vertical-line m-0"},[s("img",{staticClass:"img-container",attrs:{src:"https://cdn-icons-png.flaticon.com/512/2111/2111832.png"}})]),s("div",{staticClass:"col-sm-3 m-0"},[s("div",{staticClass:"text-center text-color-primary pointer"},[s("span",{staticClass:"block"},[t._v("Contactanos por WhatsApp")]),s("p",{staticClass:"block"},[t._v("Soporte rápido y eficaz")])])])])}],n={name:"ProductDetailsFooter",props:{product:Object},data(){return{}},async created(){},methods:{},computed:{}},d=n,u=e(1001),p=(0,u.Z)(d,c,l,!1,null,null,null),m=p.exports;const h=[{name:"Credit Card",url:"https://cdn-icons-png.flaticon.com/512/11041/11041055.png"},{name:"Transfer",url:"https://cdn-icons-png.flaticon.com/512/196/196578.png"}];var v={components:{Navbar:r.Z,ProductDetailsFooter:m},data(){return{showOverlay:!0,showButtonOverlay:!1,isSuccess:!1,product:{id:1,name:"Chocolate Aguila 60% Cacao",description:"Deliciosa golosina con un sabor único, ideal para satisfacer tu antojo de dulce. Un placer en cada bocado que te cautivará con su dulzura singular.",price:350,installments:3,priceInInstallments:116.66,quantity:4,shippingCost:2736.26,withdrawalCost:2181.86,hasSizes:!0,sizes:["38","40","42"]},errorQuantityRequired:!1,sizeSelected:"",deliveryTypeSelected:1,orderItems:0,paymentMethods:h}},async created(){var t=this.$route.params.productId;this.orderItems=this.$store.getters.getOrderItems,await this.getProductDetails(t)},methods:{...(0,o.nv)(["updateOrderItems"]),async getProductDetails(t){this.showOverlay=!0;let s="/products/"+t;await this.axios.get(s).then((t=>{this.product=t.data,this.product.hasSizes&&this.product.sizes.length>0&&(this.sizeSelected=this.product.sizes[0]),this.product.quantity>0&&(this.product.maxQuantity=this.product.quantity,this.product.quantity=1)})).catch((t=>{this.showNotification("error","No fue posible obtener el detalle del Producto. Error: "+t)})).finally((t=>{this.showOverlay=!1}))},async showPaymentMethods(){console.log("show Payment Methods")},async selectSize(t){this.sizeSelected=t},async addToCart(){this.showButtonOverlay=!0,this.orderId>0?(console.log("la orden con Id: "+this.orderId+" contiene la cantidad de: "+this.orderItems),await this.putOrder()):await this.postOrder()},async postOrder(){console.log("ingreso al postOrder...");let t="/orders",s={organizationId:1,customerId:1,product:this.product,paymentMethodId:1,amount:this.product.price,discount:0,items:1,installments:this.product.installments,deliveryType:this.deliveryTypeSelected};await this.axios.post(t,s).then((t=>{this.result=t.data,console.log(this.result),localStorage.setItem("orderId",this.result.data.id),this.updateOrderItems(this.$store.getters.getOrderItems+1),this.isSuccess=!0})).catch((t=>{this.showNotification("error","No fue posible guardar el Producto. Error: "+t)})).finally((t=>{this.showButtonOverlay=!1}))},async putOrder(){console.log("ingreso al putOrder...");let t="/orders",s={id:this.orderId,organizationId:1,customerId:1,product:this.product,paymentMethodId:1,amount:this.product.price,discount:0,items:this.orderItems+1,installments:this.product.installments,deliveryType:this.deliveryTypeSelected};await this.axios.put(t,s).then((t=>{this.result=t.data,console.log(this.result.data.id),console.log(this.result),this.updateOrderItems(this.orderItems+1),this.isSuccess=!0})).catch((t=>{this.showNotification("error","No fue posible guardar el Producto. Error: "+t)})).finally((t=>{this.showButtonOverlay=!1}))},showNotification(t,s){this.$toasted.show(s,{duration:3e3,type:t,theme:"bubble",singleton:!0,action:{text:"X",onClick:(t,s)=>{s.goAway(0)}}})},handleMouseMove(t){const s=this.$refs.zoomImage,e=t.target,a=t.offsetX/e.offsetWidth*100,i=t.offsetY/e.offsetHeight*100;s.style.transformOrigin=`${a}% ${i}%`}},watch:{"product.quantity":function(){}},computed:{...(0,o.Se)({orderId:"getOrderId"})}},g=v,C=(0,u.Z)(g,a,i,!1,null,null,null),y=C.exports}}]);
//# sourceMappingURL=299.7cba9e20.js.map