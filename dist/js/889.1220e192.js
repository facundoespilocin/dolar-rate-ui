"use strict";(self["webpackChunkmevn_project_frontend"]=self["webpackChunkmevn_project_frontend"]||[]).push([[889],{2749:function(e,t,s){s.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row mt-4"},[t("div",{staticClass:"col-sm-1 pull-right"},[t("b-icon",{staticClass:"icon-size-l pull-left text-color-red",attrs:{icon:"exclamation-circle"}})],1),e._m(0)])])},l=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-sm-11 mt-3"},[t("h4",{staticClass:"text-color-red text-color-red pull-left"},[e._v(" No se encontraron resultados. Por favor, ingresá nuevos parámetros de búsqueda. ")])])}],a={name:"ResultsNotFounded",props:{}},o=a,r=s(1001),n=(0,r.Z)(o,i,l,!1,null,null,null),c=n.exports},889:function(t,s,i){i.r(s),i.d(s,{default:function(){return u}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",{staticClass:"my-2"},[e._v("Usuarios")]),t("div",{staticClass:"border-shadow p-4"},[t("b-overlay",{attrs:{show:e.showOverlay,rounded:"sm"}},[t("div",{staticClass:"row my-2"},[t("label",{staticClass:"control-label",attrs:{id:"searchedEmail"}},[e._v("Buscar como")]),t("div",{staticClass:"col-3"},[t("div",{staticClass:"form-group"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.searchByFilterSelected,expression:"searchByFilterSelected"}],staticClass:"form-select",attrs:{id:"selectTypeSearch"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.searchByFilterSelected=t.target.multiple?s:s[0]}}},e._l(e.searchByFilters,(function(s,i){return t("option",{key:i,domProps:{value:s}},[e._v(" "+e._s(s.description)+" ")])})),0)])]),t("div",{staticClass:"col-xs-12 col-sm-5"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.inputFilter,expression:"inputFilter"}],class:[e.errorInputFilterRequired?"form-control is-invalid":"form-control"],attrs:{type:"text",placeholder:e.textPlaceholder,maxlength:"100"},domProps:{value:e.inputFilter},on:{input:function(t){t.target.composing||(e.inputFilter=t.target.value)}}}),e.errorInputFilterRequired?t("small",[e._v("Es un campo requerido")]):e._e()]),t("div",{staticClass:"col-xs-12 col-sm-4",staticStyle:{"text-align":"left"}},[t("b-button",{attrs:{variant:"primary",type:"submit"},on:{click:function(t){return e.getCustomersFiltered()}}},[e._v("Buscar")])],1)]),t("div",{staticClass:"row"},[t("label",[e._v("Estado:")]),t("div",{staticClass:"radio-group"},[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.statusSelected,expression:"statusSelected"}],attrs:{type:"radio",value:"2"},domProps:{checked:e._q(e.statusSelected,"2")},on:{change:function(t){e.statusSelected="2"}}}),e._v(" Todos ")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.statusSelected,expression:"statusSelected"}],staticClass:"margin-left",attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.statusSelected,"1")},on:{change:function(t){e.statusSelected="1"}}}),e._v(" Activo ")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.statusSelected,expression:"statusSelected"}],staticClass:"margin-left",attrs:{type:"radio",value:"0"},domProps:{checked:e._q(e.statusSelected,"0")},on:{change:function(t){e.statusSelected="0"}}}),e._v(" No Activo ")])])]),t("hr"),t("div",{staticClass:"row"},[t("p",{staticClass:"mb-1"},[t("em",[e._v("Mostrando "+e._s(e.totalRowsFiltered)+" de "+e._s(e.totalRows)+" registros encontrados")])])]),e.customers.length>0?t("div",[t("b-table",{ref:"customersTable",staticClass:"margin-bottom",attrs:{busy:e.isBusy,items:e.customers,fields:e.fields,bordered:!0,"table-variant":"warning","current-page":e.currentPage,"per-page":e.pageSize,responsive:"sm"},on:{"update:busy":function(t){e.isBusy=t}},scopedSlots:e._u([{key:"cell(name)",fn:function(s){return[s.item.hasChildren?t("div",[t("u",[t("span",{staticClass:"link",on:{click:function(t){return e.showCustomerDetail(s.item,s.index,t.target)}}},[e._v(e._s(s.item.name))])])]):t("div",[e._v(e._s(s.item.name))])]}},{key:"cell(operations)",fn:function(s){return[t("div",{staticClass:"pull-center"},[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.delete-modal",modifiers:{"delete-modal":!0}}],staticClass:"btn-danger",attrs:{size:"sm"},on:{click:function(t){return e.showModal(s.item,s.index,t.target)}}},[e._v(" Eliminar "),t("b-icon-trash")],1)],1)]}},{key:"cell(price)",fn:function(s){return[t("span",[e._v("$")]),e._v(e._s(s.item.price)+" ")]}},{key:"cell(isActive)",fn:function(s){return[t("div",{staticClass:"pull-center mt-2"},[s.item.isActive?e._e():t("b-icon-x"),s.item.isActive?t("b-icon-check2"):e._e()],1)]}}],null,!1,2317884552)}),t("b-modal",{attrs:{id:e.deleteModal.id,title:e.deleteModal.title,centered:"","hide-header-close":"","header-bg-variant":"primary","header-text-variant":"light"},on:{ok:e.removeProduct}},[t("span",[e._v(e._s(e.deleteModal.content))])]),t("b-pagination",{staticClass:"my-0",attrs:{"total-rows":e.totalRowsFiltered,"per-page":e.pageSize,align:"fill",size:"sm"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e(),e.noResultsFounded?t("ResultsNotFounded"):e._e()],1)],1)])},a=[],o=i(2749),r={components:{ResultsNotFounded:o.Z},delimiters:["${","}"],data(){return{customers:[],customerSelected:null,isBusy:!1,showOverlay:!1,options:[{text:"Todos",value:2},{text:"Activo",value:1},{text:"No Activo",value:0}],statusSelected:2,searchByFilterSelected:{id:1,description:"Nombre",label:"c.name"},searchByFilters:[{id:1,description:"Nombre",label:"c.name"},{id:2,description:"Nro. de Documento",label:"c.documentNumber"},{id:3,description:"Sexo",label:"g.name"},{id:1,description:"País",label:"co.name"}],inputFilter:"",textPlaceholder:"Ingresá la Descripción",appliedFilter:"Nombre",fields:[{key:"id",label:"Id"},{key:"name",label:"Nombre"},{key:"lastName",label:"Apellido"},{key:"documentType",label:"Tipo de Documento"},{key:"documentNumber",label:"Nro. de Documento"},{key:"gender",label:"Sexo"},{key:"country",label:"País"},{key:"phone",label:"Teléfono"},{key:"address",label:"Dirección"},{key:"city",label:"Ciudad"},{key:"birthDate",label:"Fecha de Nac."},{key:"isActive",label:"Activo"},{key:"operations",label:""}],currentPage:1,totalRowsFiltered:0,totalRows:0,pageSize:15,inputFilter:"",errorInputFilterRequired:!1,noResultsFounded:!1,deleteModal:{id:"delete-modal",title:"Eliminar Cliente",content:"¿Estás seguro que deseas eliminar este elemento?"},statusCode:null}},async mounted(){await this.getAllCustomers()},created(){},methods:{showModal(e,t,s){this.$root.$emit("bv::show::modal",this.deleteModal.id,s),this.customerSelected=e?.id},closeTag(){},async getCustomersFiltered(){if(this.validateFields()){this.showOverlay=!0,this.isBusy=!0;let e="/customers",t={searchBy:this.searchByFilterSelected.label,query:this.inputFilter,status:this.statusSelected};await this.axios.get(e,{params:t}).then((e=>{this.customers=e?.data,this.totalRowsFiltered=e?.data?.length,0===this.totalRowsFiltered?this.noResultsFounded=!0:this.noResultsFounded=!1})).catch((e=>{this.showNotification("error","No fue posible cargar los Clientes. Error: "+e)})).finally((e=>{this.showOverlay=!1,this.isBusy=!1}))}},async getAllCustomers(){console.log(this.showOverlay),this.showOverlay=!0,console.log(this.showOverlay),this.isBusy=!0;let e="/customers";await this.axios.get(e).then((e=>{this.customers=e.data,this.totalRows=this.totalRowsFiltered=e.data.length,0===this.totalRowsFiltered?this.noResultsFounded=!0:this.noResultsFounded=!1})).catch((e=>{this.showNotification("error","No fue posible cargar los Clientes. Error: "+e)})).finally((e=>{this.showOverlay=!1,this.isBusy=!1}))},validateFields(){let e=!0;return this.errorInputFilterRequired=!1,""===this.inputFilter&&(this.errorInputFilterRequired=!0,e=!1),e},showNotification(e,t){this.$toasted.show(t,{duration:3e3,type:e,theme:"bubble",singleton:!0,action:{text:"X",onClick:(e,t)=>{t.goAway(0)}}})},removeProduct(){let t=this.customers.findIndex((e=>e.id===this.customerSelected));-1!==t?this.customers.splice(t,1):this.showNotification("error","No fue posible eliminar el registro elegido"+e)},showCustomerDetail(e,t,s){console.log()}},computed:{},watch:{searchByFilterSelected:function(e,t){e!==t&&(1!==this.searchByFilterSelected.id&&2!==this.searchByFilterSelected.id||(this.textPlaceholder="Ingresá la Descripción"))},currentPage:async function(e,t){}}},n=r,c=i(1001),d=(0,c.Z)(n,l,a,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=889.1220e192.js.map